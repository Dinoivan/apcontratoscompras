<mvc:View controllerName="apcontratoscompras.controller.View1" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:form="sap.ui.layout.form" xmlns:f="sap.ui.layout.form" xmlns:layout="sap.ui.layout">
    <SplitApp id="SplitApp">
        <masterPages>
            <Page id="page" title="{i18n>view.Master.title} ({= ${path: '/WorkflowTaskCollection>/results'}.length})">
                <content>
                    <List id="list" mode="MultiSelect"
                        includeItemInSelection="false"
                        selectionChange="fireSelectionChange"
                        items="{
                            path: '/WorkflowTaskCollection',
                            parameters: {
                                $skip: '0',
                                $top: '1000000',
                                $inlinecount: 'allpages'
                            }
                        }">
                        <ObjectListItem id="MAIN_LIST_ITEM"
                                        type="Active"
                                        press="_handleItemPress"
                                        title="{PoNumber} {SupplierName}"
                                        number="{path: 'Value', formatter: '.formatMoney'}"
                                        numberUnit="{Currency}">
                            <firstStatus>
                                <ObjectStatus id="ListStatusWiCreatedAt"
                                            text="{path: 'WiCreatedAt', formatter: '.formatFechaUTC'}"/>
                            </firstStatus>
                            <attributes>
                                <ObjectAttribute id="ListAttributeItemDescription" text="{ItemDescriptions}"/>
                                <ObjectAttribute id="ListAttributeCreatedByName" text="{CreatedByName}"/>
                                <ObjectAttribute id="ListAttributeForwardedByName"
                                                text="{ForwardedByName}"
                                                />
                                <ObjectAttribute id="ListAttributeSubstitutingForName"
                                                text="{SubstitutingForName}"
                                                />
                                <ObjectAttribute id="idObjectAttribute" text=""/>
                                <ObjectAttribute id="idObjectAttribute2" text="{texto2}"/>
                                <ObjectAttribute id="idObjectAttribute3" text="{texto3}"/>
                                <ObjectAttribute id="idObjectAttribute4" text=""/>
                            </attributes>
                            <!-- @ExtensionPoint extListItemInfo: document list (S2 view) -->
                            <core:ExtensionPoint name="extListItemInfo"/>
                        </ObjectListItem>
                    </List>
                </content>
                <footer>
                    <Bar id="footer"></Bar>
                </footer>
            </Page>
        </masterPages>
        <detailPages>
            <Page id="WIDetail" title="{i18n>view.PurchaseContract.title}" class="sapUiFioriObjectPage">
                <content>
                    <!-- Header of S3 screen -->
                    <ObjectHeader id="Header" introPress="onAgentPress" introActive="true" title="{header>/SupplierName}" titlePress="onVendorPress" titleActive="true"
              number="{path : 'header>/Value', formatter: '.formatMoney'}" numberUnit="{header>/Currency}">
                        <firstStatus>
                            <ObjectStatus id="ObjectHeaderStatusWiCreatedAt"
                                text="{path: 'header>/WiCreatedAt', formatter: '.formatFechaUTC'}"></ObjectStatus>
                        </firstStatus>
                        <attributes>
                            <ObjectAttribute id="ObjectHeaderAttributeCreatedByName" text="{header>/CreatedByName}" press="onNamePress" active="true"></ObjectAttribute>
                            <ObjectAttribute id="ObjectHeaderAttributeForwardedBy"
                                text="{parts:[{path : 'header>/ForwardedByName'}]}"
                                press="onForwardedPress" active="true"></ObjectAttribute>
                            <ObjectAttribute id="ObjectHeaderAttributeSubstitutedBy"
                                text="{parts:[{path : 'header>/SubstitutingForName'}]}"
                                press="onSubstitutingPress" active="true"></ObjectAttribute>
                        </attributes>
                        <!-- @ExtensionPoint extHeaderInfo: header information -->
                        <core:ExtensionPoint name="extHeaderInfo"/>
                    </ObjectHeader>

                    <!-- Toggle Area of S3 screen -->
                    <IconTabBar id="TabContainer" select="handleTabSelect">
                        <items>
                            <IconTabFilter id="IconTabBarFilterPCInformation" icon="sap-icon://hint" iconColor="Default" key="contentInfo">
                                <!-- Contract Information of S3 screen -->
                                <content>
                                    <form:Form id="InfoForm" class="detailInfoForm">
                                        <form:layout>
                                            <form:ResponsiveLayout></form:ResponsiveLayout>
                                        </form:layout>
                                        <form:formContainers>
                                            <form:FormContainer>
                                                <form:layoutData>
                                                    <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                </form:layoutData>
                                                <form:formElements>

                                                    <form:FormElement id="PCInformationPCLabel">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.purchaseContractLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text text="{detail>/PoNumber}" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    
                                                    <form:FormElement id="PCInformationContractType">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.contractTypeLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text
                                                                text="{detail>/ContractTypeDescription'} ({detail>/ContractType})" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <form:FormElement id="PCInformationAccountAssignment">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.accountAssignment}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                           <VBox>
                                                            <Text text="{
                                                                parts: [
                                                                    {path: 'detail>/HeaderInfo/AccountCategoryDescription'},
                                                                    {path: 'detail>/HeaderInfo/AccountDescription'},
                                                                    {path: 'detail>/HeaderInfo/AccountNumber'},
                                                                    {path: 'detail>/HeaderInfo/GlAccountDescription'},
                                                                    {path: 'detail>/HeaderInfo/GlAccountNumber'}
                                                                ],
                                                                formatter: '.formatCostAssignment'
                                                            }"/>
                                                            <layoutData>
                                                                <layout:ResponsiveFlowLayoutData weight="2"/>
                                                            </layoutData>
                                                        </VBox>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <form:FormElement id="PCInformationContractDate">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.dateLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text text="{path: 'detail>/ContractDate', formatter: '.formatFechaUTC'}" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <!-- Validity -->
                                                    <form:FormElement id="PCInformationValidity">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.validityLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text
                                                                text="hasta {path: 'detail>/EndDate', formatter: '.formatFechaUTC'}" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <form:FormElement id="PCInformationPlant">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.plantLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text text="{detail>/PlantName}" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <form:FormElement id="PCInformationPaymentTerm">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.paymentTermsLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text text="{detail>/PaymentTermDescription}" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <form:FormElement id="PCInformationCompany">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.companyCodeLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text
                                                                text="{detail>/CompanyCodeDescription} ({detail>/CompanyCode})" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <form:FormElement id="PCInformationPurchaseGroupDescription">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.purchasingGroupLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text
                                                                text="{detail>/PurchGrpDescription} ({detail>/PurchGrp})" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <form:FormElement id="PCInformationPurchaseOrgDescription">
                                                        <form:layoutData>
                                                            <layout:ResponsiveFlowLayoutData linebreak="true" margin="false"></layout:ResponsiveFlowLayoutData>
                                                        </form:layoutData>
                                                        <form:label>
                                                            <Label text="{i18n>view.PurchaseContract.purchasingOrgLabel}"></Label>
                                                        </form:label>
                                                        <form:fields>
                                                            <Text
                                                                text="{detail>/PurchOrgDescription} ({detail>/PurchOrg})" textAlign="Initial">
                                                                <layoutData>
                                                                    <layout:ResponsiveFlowLayoutData weight="2"></layout:ResponsiveFlowLayoutData>
                                                                </layoutData>
                                                            </Text>
                                                        </form:fields>
                                                    </form:FormElement>
                                                    <!-- @ExtensionPoint extInformation: Do not use this extension point. It has a duplicate name. Use extInformationS3 instead. -->
                                                    <core:ExtensionPoint name="extInformation"/>
                                                    <!-- @ExtensionPoint extInformationS3: information area -->
                                                    <core:ExtensionPoint name="extInformationS3"/>
                                                </form:formElements>
                                            </form:FormContainer>
                                        </form:formContainers>
                                    </form:Form>
                                </content>
                            </IconTabFilter>

                               <IconTabFilter id="IconTabBarFilterPRNotes" key="Notes" count="{detail>/NumberOfNotes}"
                            visible="{path : 'detail>/NumberOfNotes', formatter: '.notesVisibilityTrigger'}"
                            icon="sap-icon://notes">
                              <List id="listNotes" showSeparators="None" inset="true" items="{path : 'detail>/Notes/results'}">
                                <FeedListItem id="NoteTemplate"
                                    icon="{detail>Thumbnail}"
                                    senderPress="onNoteSenderPress" text="{detail>Text}" info="{detail>TypeDescription}"></FeedListItem>
                              </List>
                           </IconTabFilter>

                            <IconTabFilter id="IconTabBarFilterPRAttachments" key="Attachments" count="{detail>/NumberOfAttachments}"
                                            visible="{path : 'detail>/Attachments/results', formatter: '.attachmentsVisibilityTrigger'}"
                                            icon="sap-icon://attachment">
                                    <List id="listAttachments" showSeparators="None" inset="true" items="{path : 'detail>/Attachments/results'}">
                                        <StandardListItem title="{detail>Description}" 
                                                        description="{= Math.round(${detail>FileSize} / 1024) + ' KB'}"
                                                        icon="sap-icon://pdf-attachment"
                                                        type="Navigation"
                                                        press="onAttachmentPress"/>
                                    </List>
                            </IconTabFilter>

                            <IconTabFilter id="IconTabBarFilterPOApprovers" icon="sap-icon://account">
                            <content>
                                    <Table id="idProductsTablee"
                                        inset="false"
                                        items="{
                                            path: 'aprobadores>/items'
                                        }">
                                        
                                        <columns>
                                            <Column
                                                width="5em">
                                                <Text text="Orden" />
                                            </Column>
                                            <Column>
                                                <Text text="Nombre" />
                                            </Column>
                                            <Column>
                                                <Text text="Usuario SAP" />
                                            </Column>
                                            <Column>
                                                <Text text="Aprobado" />
                                            </Column>
                                        </columns>
                                        <items>
                                            <ColumnListItem>
                                                <cells>
                                                    <ObjectStatus
                                                        text="{aprobadores>Secuencia}"  state="{path:'aprobadores>Aprobado', formatter: '.formatAprobadoState'}" />
                                                    <ObjectStatus
                                                        text="{aprobadores>Nombre}"  state="{path:'aprobadores>Aprobado', formatter: '.formatAprobadoState'}"/>
                                                    <ObjectStatus
                                                        text="{aprobadores>IdSap}"  state="{path:'aprobadores>Aprobado', formatter: '.formatAprobadoState'}"/>
                                                    <ObjectStatus
                                                        text="{aprobadores>Aprobado}" state="Success"/>
                                                </cells>
                                            </ColumnListItem>
                                        </items>
                                    </Table>
                            </content>
                            
                        </IconTabFilter>

                        </items>
                    </IconTabBar>



                    <!--<layout:VerticalLayout width="100%"> -->
                    <!-- Item table on S3 screen -->
                    <Table id="itemsTable" items="{detail>/ItemDetails/results}" noDataText="{i18n>view.PurchaseContract.placeholder}" class="detailControlPadding"
                        growing="true" growingScrollToLoad="false"
                        headerText="{i18n>view.PurchaseContract.multipleItems} ({path : 'detail>/NumberOfItems'})">
                        <columns>
                            <Column hAlign="Begin" id="ItemsTableColumnDescription">
                                <header>
                                    <Label text="{i18n>view.PurchaseContract.descriptionLabel}"></Label>
                                </header>
                            </Column>
                            <Column hAlign="Begin" id="ItemsTableColumnItemCategory" demandPopin="true" minScreenWidth="Medium">
                                <header>
                                    <Label text="{i18n>view.PurchaseContract.itemCategory}"></Label>
                                </header>
                            </Column>
                            <Column id="ItemsTableColumnQuantity" hAlign="End" demandPopin="true" minScreenWidth="Medium">
                                <header>
                                    <Label text="{i18n>view.PurchaseContract.quantity}"></Label>
                                </header>
                            </Column>
                            <Column id="ItemsTableColumnSubtotal" hAlign="End" demandPopin="true" minScreenWidth="Medium">
                                <header>
                                    <Label text="{i18n>view.PurchaseContract.subtotal}"></Label>
                                </header>
                            </Column>
                        </columns>

                        <items>
                            <ColumnListItem type="Navigation" press="onLineItemPress">
                                <cells>
                                    <ObjectIdentifier title="{detail>Description}"></ObjectIdentifier>
                                    <Text
                                        text="{path : 'detail>ItemCategoryDescription'}"></Text>
                                    <ObjectNumber number="{path: 'detail>Quantity'}"
                                        numberUnit="{detail>UnitDescription}"></ObjectNumber>
                                    <ObjectNumber number="{path: 'detail>Value'}"
                                        numberUnit="{detail>Currency}"></ObjectNumber>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
                <!-- </layout:VerticalLayout> -->
                <footer>
                    <Bar id="detailFooter"></Bar>
                </footer>
            </Page>

            <Page id="idItemDetailPage">
                    <customHeader>
                        <Toolbar>
                            <Button icon="sap-icon://arrow-left" press="onBackPress" type="Transparent" tooltip="Volver" />
                            <Title text="Posición {detalle>/ItemNumberFormatted} de {detalle>/NumberOfItems}" level="H4" />
                        </Toolbar>
                    </customHeader>

                    <VBox>
                        <!-- Cabecera -->
                        <Panel>
                            <content>
                                <HBox justifyContent="SpaceBetween" alignItems="Center" width="100%">
                                    <VBox width="60%">
                                        <Title text="{detalle>/Description}" level="H3"/>
                                        <Text text="{detalle>/ItemCategoryDescription}" />
                                    </VBox>
                                    <VBox alignItems="End" width="40%">
                                        <Text text="{detalle>/Value}" class="sapMTextLarge sapMTextBold"/>
                                        <Text text="{detalle>/Currency}" class="sapMTextSmall"/>
                                    </VBox>
                                </HBox>
                            </content>
                        </Panel>

                        <!-- Información (Centrado) -->
                        <Panel headerText="Información">
                            <content>
                                <VBox alignItems="Center">
                                    <HBox justifyContent="Center">
                                        <!-- Primera columna (etiquetas) -->
                                        <VBox class="sapUiSmallMarginEnd">
                                            <Label text="Grupo de materiales:" />
                                            <Label text="Centro:" />
                                            <Label text="Dirección:" />
                                        </VBox>

                                        <!-- Segunda columna (valores) -->
                                        <VBox>
                                            <Text text="{= ${detalle>/ProductDetails/MaterialGroupDescription} + ' (' + ${detalle>/ProductDetails/MaterialGroup} + ')' }"/>
                                            <Text text="{detalle>/DeliveryAddress/PlantName}"  textAlign="Begin"/>
                                            <Text text="{detalle>/DeliveryAddress/AddressString}" textAlign="Begin" />
                                        </VBox>
                                    </HBox>
                                </VBox>
                            </content>
                        </Panel>

                        <!-- Líneas de servicio -->
                        <Panel headerText="Líneas de servicio ({= ${detalle>/ServiceLines/results}.length})" visible="{= ${detalle>/ServiceLines/results}.length > 0}" >
                            <content>
                                <Table items="{detalle>/ServiceLines/results}">
                                    <columns>
                                        <Column>
                                            <Text text="Descripción" />
                                        </Column>
                                        <Column>
                                            <Text text="Cantidad" />
                                        </Column>
                                        <Column hAlign="Right">
                                            <Text text="Subtotal" />
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem type="Navigation" press="onServiceLinePress">
                                            <cells>
                                                <Text text="{detalle>Description}" class="sapMTextBold"/>
                                                <Text text="{detalle>Quantity} {detalle>UnitDescription}" />
                                                <Text text="{detalle>Value} {detalle>Currency}" textAlign="Right" />
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                            </content>
                        </Panel>

                        <Panel headerText="Notas" visible="{= ${detalle>/Notes/results}.length > 0}" >
                            <content>
                               
                              <List id="listNotess" showSeparators="None" inset="true" items="{path : 'detalle>/Notes/results'}">
                                <FeedListItem id="NoteTemplatee"
                                    icon="{detalle>Thumbnail}"
                                    senderPress="onNoteSenderPress" text="{detalle>Text}" info="{detalle>TypeDescription}"></FeedListItem>
                              </List>
                          
                            </content>
                        </Panel>

                        <!-- Condiciones de Precio (Inicio y final) -->
                        <Panel headerText="Condiciones de precio">
                            <content>
                                <Table items="{detalle>/PricingConditions/results}">
                                    <columns>
                                        <Column>
                                            <Text text="Descripción" />
                                        </Column>
                                        <Column hAlign="Right">
                                            <Text text="Precio" />
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells>
                                                <Text text="{detalle>Description} {detalle>PricingConditionType}" class="sapMTextBold"/>
                                                <Text text="{detalle>Value} {detalle>Currency}" textAlign="Right" />
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                            </content>
                        </Panel>
                    </VBox>
                </Page>

                 <Page id="idService" title="Detalle del servicio" >
                <customHeader>
                    <Toolbar>
                        <!-- Botón de retroceso -->
                        <Button 
                            icon="sap-icon://arrow-left" 
                            press="onBackPressService" 
                            type="Transparent" 
                            tooltip="Volver" />

                            <!-- Texto dinámico de la posición -->
                        <Title text="Línea de servicio {service>ItemNumberFormatted/} de {service>/NumberServiceLine} - Posición {service>/ItemNumberFormatted} de {service>/NumberOfItems}" level="H3"/>
                    </Toolbar>
                </customHeader>
             <content>
            <VBox class="sapUiSmallMargin">
                <!-- Título -->
                <HBox justifyContent="SpaceBetween" alignItems="Center">
                  <VBox class="sapUiSmallMargin">
                     <Title text="{service>/ServiceLines/results/0/Description}" class="sapMTextLarge sapMTextBold"/>
                  </VBox>
                    <VBox class="sapUiSmallMarginEnd">
                        <Text text="{service>/ServiceLines/results/0/Value}" class="sapMTextLarge sapMTextBold"/>
                        <Text text="{service>/ServiceLines/results/0/Currency}" class="sapMTextSmall"/>
                    </VBox>
                </HBox>

                <!-- Detalles del servicio -->
                <VBox class="sapUiSmallMargin">
                    <Text text="{service>/ServiceLines/results/0/Quantity} {service>/ServiceLines/results/0/UnitDescription}" />
                    <Text text="{service>/ServiceLines/results/0/PricePerUnit} {service>/ServiceLines/results/0/Currency} / {service>/ServiceLines/results/0/Quantity} {service>/ServiceLines/results/0/UnitDescription}"/>
                </VBox>

               <!-- Información (Centrado) -->
                        <Panel headerText="Información">
                            <content>
                                <VBox alignItems="Center">
                                    <HBox justifyContent="Center">
                                        <!-- Primera columna (etiquetas) -->
                                        <VBox class="sapUiSmallMarginEnd">
                                            <Label text="Servicio:" />
                                            <Label text="Descripción:" />
                                          
                                        </VBox>

                                        <!-- Segunda columna (valores) -->
                                        <VBox>
                                            <Text text="{= ${detalle>/ProductDetails/MaterialGroupDescription} + ' (' + ${detalle>/ProductDetails/MaterialGroup} + ')' }"/>
                                            <Text text="{detalle>/DeliveryAddress/PlantName}"  textAlign="Begin"/>
                                       
                                        </VBox>
                                    </HBox>
                                </VBox>
                            </content>
                        </Panel>

                <!-- Sección de Asignación de Costes -->
                <Panel headerText="Asignación de costes">
                    <Table id="costAssignmentTable" inset="false" items="{service>/ServiceLines/results/0/Accountings/results}">
                        <columns >
                            <Column>
                                <Text text="Objetos"/>
                            </Column>
                            <Column>
                                <Text text="Cuenta mayor"/>
                            </Column>
                            <Column hAlign="Right">
                                <Text text="Compartir"/>
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <VBox>
                                        <Text text="{service>AccountDescription} ({service>AccountNumber})" class="sapMTextBold"/>
                                        <Text text="{service>AccountCategoryDescription}"/>
                                    </VBox>
                                    <Text text="{service>GlAccountDescription} ({service>GlAccountNumber})"/>
                                    <Text text="{service>DistributionPercentage} %" textAlign="Right" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </Panel>
            </VBox>
           </content>

            </Page>

        </detailPages>
    </SplitApp>
</mvc:View>
